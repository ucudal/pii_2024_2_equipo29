\chapter{PII 2024 -\/ Equipo 29}
\hypertarget{md__r_e_a_d_m_e}{}\label{md__r_e_a_d_m_e}\index{PII 2024 -\/ Equipo 29@{PII 2024 -\/ Equipo 29}}
\label{md__r_e_a_d_m_e_autotoc_md0}%
\Hypertarget{md__r_e_a_d_m_e_autotoc_md0}%
\hypertarget{md__r_e_a_d_m_e_autotoc_md1}{}\doxysection{\texorpdfstring{Universidad Católica del Uruguay}{Universidad Católica del Uruguay}}\label{md__r_e_a_d_m_e_autotoc_md1}
{\bfseries{Facultad de Ingeniería y Tecnologías}} ~\newline
 {\bfseries{Asignatura\+:}} Programación II ~\newline
\hypertarget{md__r_e_a_d_m_e_autotoc_md2}{}\doxysection{\texorpdfstring{Integrantes del equipo}{Integrantes del equipo}}\label{md__r_e_a_d_m_e_autotoc_md2}

\begin{DoxyItemize}
\item {\bfseries{Leandro Pereira}}\+: \href{https://github.com/LeandroPereira23}{\texttt{ Leandro\+Pereira23}}
\item {\bfseries{Matías Pérez}}\+: \href{https://github.com/MatiXV23}{\texttt{ Mati\+XV23}}
\item {\bfseries{Anna Paula Tomas}}\+: \href{https://github.com/pauuuutomas}{\texttt{ pauuuutomas}}
\item {\bfseries{Gabriel Fioritti}}\+: \href{https://github.com/GabrielFioritti}{\texttt{ Gabriel\+Fioritti}}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md3}{}\doxysection{\texorpdfstring{Pasos para utilizar el bot}{Pasos para utilizar el bot}}\label{md__r_e_a_d_m_e_autotoc_md3}
\hypertarget{md__r_e_a_d_m_e_autotoc_md4}{}\doxysubsection{\texorpdfstring{1) Token para el bot de discord}{1) Token para el bot de discord}}\label{md__r_e_a_d_m_e_autotoc_md4}
Se ha implementado el uso de variables de entorno para evitar subir el token del bot de discord a Github.

Para su correcto funcionamiento se debe ejecutar el siguiente comando en la terminal de {\bfseries{Power\+Shell}}\+: {\ttfamily setx DISCORD\+\_\+\+TOKEN "{}$<$\+Token$>$"{}}.

Posteriormente, será necesario reiniciar la computadora.\hypertarget{md__r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{\texorpdfstring{2) Invitar el bot a un servidor de discord}{2) Invitar el bot a un servidor de discord}}\label{md__r_e_a_d_m_e_autotoc_md5}
Clickea el siguiente enlace para invitar el bot al servidor\+: \href{https://discord.com/oauth2/authorize?client_id=1297389213922361396&permissions=8&integration_type=0&scope=bot+applications.commands}{\texttt{ Enlace de invitación.}}\hypertarget{md__r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{\texorpdfstring{3) Encender el servidor}{3) Encender el servidor}}\label{md__r_e_a_d_m_e_autotoc_md6}
Se deberá encender el servidor ejecutando el código para que el bot empiece a funcionar.\hypertarget{md__r_e_a_d_m_e_autotoc_md7}{}\doxysubsection{\texorpdfstring{4) ¡\+Ya puedes jugar!}{4) ¡\+Ya puedes jugar!}}\label{md__r_e_a_d_m_e_autotoc_md7}
Para empezar a jugar utiliza el comando {\ttfamily /\+Play}. Esto empezará a buscar partida contra otro jugador.\hypertarget{md__r_e_a_d_m_e_autotoc_md8}{}\doxysubsection{\texorpdfstring{Comandos del bot}{Comandos del bot}}\label{md__r_e_a_d_m_e_autotoc_md8}

\begin{DoxyItemize}
\item {\ttfamily /play}\+: Entrar en lista de espera.
\item {\ttfamily /choose}\+: Elegir pokemon para tu equipo. Se necesita enviar el nombre de pokemon.
\item {\ttfamily /start}\+: Permite comenzar una partida antes de alcanzar el máximo de pokemon por jugador. En caso de no usar el comando, comienza automáticamente al llegar al máximo de pokemons.
\item {\ttfamily /showcatalogue}\+: Envia el link del catálogo web.
\item {\ttfamily /attack}\+: Ataca al pokemon del jugador rival. Se necesita enviar el indice del movimiento (debe ser 1, 2, 3 o 4).
\item {\ttfamily /nextturn}\+: Cambia de turno.
\item {\ttfamily /change}\+: Cambia el pokemon actual por el enviado como parametro. Se necesita enviar el nombre de pokemon.
\item {\ttfamily /item}\+: Utiliza el item correspondiente en ese índice en el pokemon deseado. Se necesita enviar el índice del item y el nombre del pokemon donde se va a utilizar el item.
\item {\ttfamily /waitlist}\+: Muestra la lista de jugadores esperando.
\item {\ttfamily /showitems}\+: Muestra una descripción de los items.
\item {\ttfamily /restart}\+: Resetea la partida en el canal de batalla.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{\texorpdfstring{Notas del bot}{Notas del bot}}\label{md__r_e_a_d_m_e_autotoc_md9}

\begin{DoxyItemize}
\item Para ver la lista de comandos disponibles escribe {\ttfamily \textbackslash{}} y se debería mostrar una lista con los comandos disponibles.
\item En caso de que no se muestren los comandos deberás reiniciar discord o utilizar la combinación de teclas {\ttfamily Ctrl + R}.
\item Los comandos del bot están explicados a detalle en la documentación.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md10}{}\doxysection{\texorpdfstring{Formula de ataque de un Pokemon}{Formula de ataque de un Pokemon}}\label{md__r_e_a_d_m_e_autotoc_md10}
Se estudió la manera en como implementar los ataques de los pokemons, para lo cual se encontró la siguiente fórmula\+:

  


\begin{DoxyItemize}
\item {\bfseries{B}}\+: Bonificación. Si el ataque es del mismo tipo que el Pokémon que lo lanza, toma un valor de 1.\+5. Si el ataque es de un tipo diferente, toma un valor de 1.
\item {\bfseries{E}}\+: Efectividad. Puede tomar los valores de 0, 0.\+5, 1 o 2. (Hay casos especiales donde puede tomar valores de 0.\+25 o 4. Esto puede pasar si el pokemon atacado tiene más de un tipo).
\item {\bfseries{V}}\+: Variación. Un valor aleatorio entre 85 y 100.
\item {\bfseries{N}}\+: Nivel del Pokémon atacante (Por defecto, 1).
\item {\bfseries{A}}\+: Ataque o ataque especial del Pokémon. Si el ataque es físico, se toma el ataque. Si es especial, se toma el ataque especial.
\item {\bfseries{P}}\+: Poder del ataque.
\item {\bfseries{D}}\+: Defensa del Pokémon rival. Si el ataque es físico, se toma la defensa física. Si es especial, se toma la defensa especial.
\end{DoxyItemize}

La formula fue extraida de \href{https://www.wikidex.net/wiki/Da\%C3\%B1o}{\texttt{ Wikidex}}\hypertarget{md__r_e_a_d_m_e_autotoc_md11}{}\doxysection{\texorpdfstring{Implementación de una pokédex para la búsqueda de pokemons}{Implementación de una pokédex para la búsqueda de pokemons}}\label{md__r_e_a_d_m_e_autotoc_md11}
Se implementó una {\bfseries{Pokédex}} para permitir que el usuario busque entre los 1025 pokémons, esto facilitará al usuario que vaya a utilizar el bot, a la hora de buscar los pokemons, podrá filtrar por cada tipo de pokemon o ordanar la lista por ID, nombre, vida, ataque o defensa. La Pokédex se encuentra disponible en el siguiente enlace\+: \href{https://pokemon-blog-api.netlify.app}{\texttt{ Pokédex}}\hypertarget{md__r_e_a_d_m_e_autotoc_md12}{}\doxysection{\texorpdfstring{Poke\+API}{Poke\+API}}\label{md__r_e_a_d_m_e_autotoc_md12}
Para integrar la Poke\+API en el programa, investigamos cómo obtener todos los datos de los pokemons, incluyendo los datos necesarios para utilizar la formula de ataque previamente mencionada. Actualmente ya se está consumiendo la Poke\+API dentro del programa, se creó una clase Poke\+Api\+Service que se encarga de extraer los datos necesarios de los pokemon y movimientos de los mismos. Después, se adaptan los datos extraidos de la Poke\+API con la clase Pokemon\+Adapter a el formato utilizado en la clase Pokemon. Enlace\+: \href{https://pokeapi.co}{\texttt{ Poke\+API}}.\hypertarget{md__r_e_a_d_m_e_autotoc_md13}{}\doxysection{\texorpdfstring{Principios SOLID utilizados}{Principios SOLID utilizados}}\label{md__r_e_a_d_m_e_autotoc_md13}

\begin{DoxyItemize}
\item {\bfseries{SRP}} (Principio de Responsabilidad Única)\+: Se utiliza en varias partes de la aplicación para separar responsabilidades en las clases. Por ejemplo\+:
\begin{DoxyItemize}
\item En el caso de Pokemon, se separa las responsabilidades de los movimientos (Move), tipos (Type) y calculos de ataque (Calculate) en clases separadas, utilizando la lógica de las mismas en Pokemon.
\end{DoxyItemize}
\item {\bfseries{DIP}} (Prinicipio de Inversión de Dependencias)\+: Las clases de alto nivel no deberían depender de clases de bajo nivel, sino que ambos deberían depender de abstracciones. Esto se aplica en varias partes de la aplicación, por ejemplo\+:
\begin{DoxyItemize}
\item En el método Attack en la clase Pokemon, utilizamos una variable calculate de tipo ICalculate y lo instanciamos con la clase Calculate.
\item En el método Attack de la clase Game\+Commands, creamos una variable del tipo IPokemon\+Manager y la inicializamos con una instancia del Player ganador si lo hay. También en ese mismo método se crea otra variable de tipo IPokemon\+Manager con el valor del Player que no está en turno.
\item En el método Apply\+State\+Effect de la clase State\+Applier se crea una variable de tipo IPokemon\+State, la cual se inicializa con un estado Burn, Normal, Paralyze, Poison o Sleep, dependiendo del valor recibido en el método.
\end{DoxyItemize}
\item {\bfseries{OCP}} (Prinicipio Abierto/\+Cerrado)\+: Se aplica en el State\+Machine en conjunto con las clases relacionadas a los estados de los pokemon. En caso de querer agregar un nuevo estado, se debería crear una nueva clase que implemente {\ttfamily IPokemon\+State}, agregar el nombre del estado en el {\ttfamily Enum\+State} y extender la clase {\ttfamily State\+Applier} donde se agregan los estados a los pokemon. Esto permitiría agregar un efecto con un nuevo comportamiento sin modificar las clases pertinentes, extendiendo a las mismas. Esto permite que el código sea más mantenible y extensible a futuro.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md14}{}\doxysection{\texorpdfstring{Patrones de diseño utilizados}{Patrones de diseño utilizados}}\label{md__r_e_a_d_m_e_autotoc_md14}

\begin{DoxyItemize}
\item {\bfseries{Facade}}\+: Se implementó una clase {\ttfamily Game} que centraliza todas las clases y la lógica necesaria para el funcionamiento del juego.
\item {\bfseries{Adapter}}\+: Se implementó una clase {\ttfamily Poekmon\+Adapter} para adaptar los datos obtenidos de la Poke\+API a el formato utilizado en la clase {\ttfamily Pokemon}.
\item {\bfseries{State}}\+: Se implementó una maquina de estados que maneja el estado actual de cada {\ttfamily Pokemon}. Dentro de la máquina de estados se encuentra un atributo que contiene el estado actual {\ttfamily Current\+State} donde guarda una instancia de una clase que implemente la interfaz {\ttfamily IPokemon\+State}. Dependiendo del estado que tenga el {\ttfamily Pokemon} va actuar de forma distinta al llamar a cualquier método de {\ttfamily State\+Machine}.
\item {\bfseries{Singleton}}\+: Se implementó el patrón Singleton para tener una única instancia de la clase {\ttfamily Lobby} en todo el programa, por lo que nos permite evitar problemas en el emparejamiento de jugadores.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md15}{}\doxysection{\texorpdfstring{Notas}{Notas}}\label{md__r_e_a_d_m_e_autotoc_md15}

\begin{DoxyItemize}
\item EL diagrama {\bfseries{UML}}, las tarjetas {\bfseries{CRC}} y la documentación generada por doxygen están dentro de la carpeta {\bfseries{Docs}}.
\item El UML fue creado utilizando código mermaid. Para la última entrega se va a tratar de mejorar la disposición de elementos. 
\end{DoxyItemize}